const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Dashboard-Ch0ui8mi.js","assets/ui-vendor-C9uOnbQd.js","assets/react-vendor-1Jw84dll.js","assets/generateCategoricalChart-DFz88YCn.js","assets/state-Cv3e63x1.js","assets/Library-CF36JMbq.js","assets/Reader-Dxp6yTU3.js","assets/gemini-Blo2tQKi.js","assets/AIChat-C6_TL2p0.js","assets/markdown-vendor-C6czhKxp.js","assets/Progress-nkOkTgiH.js","assets/RadarChart-HZzDRJS5.js","assets/PerformanceAnalytics-BipRg-sq.js"])))=>i.map(i=>d[i]);
var e,a=Object.defineProperty,t=Object.defineProperties,s=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,n=(e,t,s)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,o=(e,a)=>{for(var t in a||(a={}))r.call(a,t)&&n(e,t,a[t]);if(i)for(var t of i(a))l.call(a,t)&&n(e,t,a[t]);return e},d=(e,a)=>t(e,s(a)),c=(e,a,t)=>n(e,"symbol"!=typeof a?a+"":a,t),m=(e,a,t)=>new Promise((s,i)=>{var r=e=>{try{n(t.next(e))}catch(He){i(He)}},l=e=>{try{n(t.throw(e))}catch(He){i(He)}},n=e=>e.done?s(e.value):Promise.resolve(e.value).then(r,l);n((t=t.apply(e,a)).next())});import{j as x,T as u,R as h,H as p,m as g,B as y,a as b,G as f,S as v,M as j,C as k,b as N,U as w,L as S,c as A,d as T,e as P,f as E,g as C,A as I,h as z,F as D,i as M,k as R,l as L,n as H,V as O,o as B,p as K,Z as F,q as V,r as _,N as G,s as Y,E as $,t as U,u as W,v as q,w as X,x as J,y as Z}from"./ui-vendor-C9uOnbQd.js";import{a as Q,r as ee,N as ae,O as te,H as se,b as ie,d as re}from"./react-vendor-1Jw84dll.js";import{c as le}from"./state-Cv3e63x1.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&a(e)}).observe(document,{childList:!0,subtree:!0})}function a(e){if(e.ep)return;e.ep=!0;const a=function(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?a.credentials="include":"anonymous"===e.crossOrigin?a.credentials="omit":a.credentials="same-origin",a}(e);fetch(e.href,a)}}();var ne=Q;e=ne.createRoot,ne.hydrateRoot;const oe={},de=function(e,a,t){let s=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),t=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));s=Promise.allSettled(a.map(e=>{if((e=function(e){return"/med-circle/"+e}(e))in oe)return;oe[e]=!0;const a=e.endsWith(".css"),s=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${s}`))return;const i=document.createElement("link");return i.rel=a?"stylesheet":"modulepreload",a||(i.as="script"),i.crossOrigin="",i.href=e,t&&i.setAttribute("nonce",t),document.head.appendChild(i),a?new Promise((a,t)=>{i.addEventListener("load",a),i.addEventListener("error",()=>t(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function i(e){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=e,window.dispatchEvent(a),!a.defaultPrevented)throw e}return s.then(a=>{for(const e of a||[])"rejected"===e.status&&i(e.reason);return e().catch(i)})};let ce,me,xe,ue={data:""},he=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,pe=/\/\*[^]*?\*\/|  +/g,ge=/\n+/g,ye=(e,a)=>{let t="",s="",i="";for(let r in e){let l=e[r];"@"==r[0]?"i"==r[1]?t=r+" "+l+";":s+="f"==r[1]?ye(l,r):r+"{"+ye(l,"k"==r[1]?"":a)+"}":"object"==typeof l?s+=ye(l,a?a.replace(/([^,])+/g,e=>r.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,a=>/&/.test(a)?a.replace(/&/g,e):e?e+" "+a:a)):r):null!=l&&(r=/^--/.test(r)?r:r.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=ye.p?ye.p(r,l):r+":"+l+";")}return t+(a&&i?a+"{"+i+"}":i)+s},be={},fe=e=>{if("object"==typeof e){let a="";for(let t in e)a+=t+fe(e[t]);return a}return e};function ve(e){let a=this||{},t=e.call?e(a.p):e;return((e,a,t,s,i)=>{let r=fe(e),l=be[r]||(be[r]=(e=>{let a=0,t=11;for(;a<e.length;)t=101*t+e.charCodeAt(a++)>>>0;return"go"+t})(r));if(!be[l]){let a=r!==e?e:(e=>{let a,t,s=[{}];for(;a=he.exec(e.replace(pe,""));)a[4]?s.shift():a[3]?(t=a[3].replace(ge," ").trim(),s.unshift(s[0][t]=s[0][t]||{})):s[0][a[1]]=a[2].replace(ge," ").trim();return s[0]})(e);be[l]=ye(i?{["@keyframes "+l]:a}:a,t?"":"."+l)}let n=t&&be.g?be.g:null;return t&&(be.g=be[l]),o=be[l],d=a,c=s,(m=n)?d.data=d.data.replace(m,o):-1===d.data.indexOf(o)&&(d.data=c?o+d.data:d.data+o),l;var o,d,c,m})(t.unshift?t.raw?((e,a,t)=>e.reduce((e,s,i)=>{let r=a[i];if(r&&r.call){let e=r(t),a=e&&e.props&&e.props.className||/^go/.test(e)&&e;r=a?"."+a:e&&"object"==typeof e?e.props?"":ye(e,""):!1===e?"":e}return e+s+(null==r?"":r)},""))(t,[].slice.call(arguments,1),a.p):t.reduce((e,t)=>Object.assign(e,t&&t.call?t(a.p):t),{}):t,(s=a.target,"object"==typeof window?((s?s.querySelector("#_goober"):window._goober)||Object.assign((s||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:s||ue),a.g,a.o,a.k);var s}ve.bind({g:1});let je=ve.bind({k:1});function ke(e,a){let t=this||{};return function(){let a=arguments;return function s(i,r){let l=Object.assign({},i),n=l.className||s.className;t.p=Object.assign({theme:me&&me()},l),t.o=/ *go\d+/.test(n),l.className=ve.apply(t,a)+(n?" "+n:"");let o=e;return e[0]&&(o=l.as||e,delete l.as),xe&&o[0]&&xe(l),ce(o,l)}}}var Ne=(e,a)=>(e=>"function"==typeof e)(e)?e(a):e,we=(()=>{let e=0;return()=>(++e).toString()})(),Se=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let a=matchMedia("(prefers-reduced-motion: reduce)");e=!a||a.matches}return e}})(),Ae="default",Te=(e,a)=>{let{toastLimit:t}=e.settings;switch(a.type){case 0:return d(o({},e),{toasts:[a.toast,...e.toasts].slice(0,t)});case 1:return d(o({},e),{toasts:e.toasts.map(e=>e.id===a.toast.id?o(o({},e),a.toast):e)});case 2:let{toast:s}=a;return Te(e,{type:e.toasts.find(e=>e.id===s.id)?1:0,toast:s});case 3:let{toastId:i}=a;return d(o({},e),{toasts:e.toasts.map(e=>e.id===i||void 0===i?d(o({},e),{dismissed:!0,visible:!1}):e)});case 4:return void 0===a.toastId?d(o({},e),{toasts:[]}):d(o({},e),{toasts:e.toasts.filter(e=>e.id!==a.toastId)});case 5:return d(o({},e),{pausedAt:a.time});case 6:let r=a.time-(e.pausedAt||0);return d(o({},e),{pausedAt:void 0,toasts:e.toasts.map(e=>d(o({},e),{pauseDuration:e.pauseDuration+r}))})}},Pe=[],Ee={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},Ce={},Ie=(e,a=Ae)=>{Ce[a]=Te(Ce[a]||Ee,e),Pe.forEach(([e,t])=>{e===a&&t(Ce[a])})},ze=e=>Object.keys(Ce).forEach(a=>Ie(e,a)),De=(e=Ae)=>a=>{Ie(a,e)},Me={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Re=e=>(a,t)=>{let s=((e,a="blank",t)=>d(o({createdAt:Date.now(),visible:!0,dismissed:!1,type:a,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},t),{id:(null==t?void 0:t.id)||we()}))(a,e,t);return De(s.toasterId||(e=>Object.keys(Ce).find(a=>Ce[a].toasts.some(a=>a.id===e)))(s.id))({type:2,toast:s}),s.id},Le=(e,a)=>Re("blank")(e,a);Le.error=Re("error"),Le.success=Re("success"),Le.loading=Re("loading"),Le.custom=Re("custom"),Le.dismiss=(e,a)=>{let t={type:3,toastId:e};a?De(a)(t):ze(t)},Le.dismissAll=e=>Le.dismiss(void 0,e),Le.remove=(e,a)=>{let t={type:4,toastId:e};a?De(a)(t):ze(t)},Le.removeAll=e=>Le.remove(void 0,e),Le.promise=(e,a,t)=>{let s=Le.loading(a.loading,o(o({},t),null==t?void 0:t.loading));return"function"==typeof e&&(e=e()),e.then(e=>{let i=a.success?Ne(a.success,e):void 0;return i?Le.success(i,o(o({id:s},t),null==t?void 0:t.success)):Le.dismiss(s),e}).catch(e=>{let i=a.error?Ne(a.error,e):void 0;i?Le.error(i,o(o({id:s},t),null==t?void 0:t.error)):Le.dismiss(s)}),e};var He,Oe,Be,Ke,Fe=(e,a="default")=>{let{toasts:t,pausedAt:s}=((e={},a=Ae)=>{let[t,s]=ee.useState(Ce[a]||Ee),i=ee.useRef(Ce[a]);ee.useEffect(()=>(i.current!==Ce[a]&&s(Ce[a]),Pe.push([a,s]),()=>{let e=Pe.findIndex(([e])=>e===a);e>-1&&Pe.splice(e,1)}),[a]);let r=t.toasts.map(a=>{var t,s,i;return d(o(o(o({},e),e[a.type]),a),{removeDelay:a.removeDelay||(null==(t=e[a.type])?void 0:t.removeDelay)||(null==e?void 0:e.removeDelay),duration:a.duration||(null==(s=e[a.type])?void 0:s.duration)||(null==e?void 0:e.duration)||Me[a.type],style:o(o(o({},e.style),null==(i=e[a.type])?void 0:i.style),a.style)})});return d(o({},t),{toasts:r})})(e,a),i=ee.useRef(new Map).current,r=ee.useCallback((e,a=1e3)=>{if(i.has(e))return;let t=setTimeout(()=>{i.delete(e),l({type:4,toastId:e})},a);i.set(e,t)},[]);ee.useEffect(()=>{if(s)return;let e=Date.now(),i=t.map(t=>{if(t.duration===1/0)return;let s=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(s<0))return setTimeout(()=>Le.dismiss(t.id,a),s);t.visible&&Le.dismiss(t.id)});return()=>{i.forEach(e=>e&&clearTimeout(e))}},[t,s,a]);let l=ee.useCallback(De(a),[a]),n=ee.useCallback(()=>{l({type:5,time:Date.now()})},[l]),c=ee.useCallback((e,a)=>{l({type:1,toast:{id:e,height:a}})},[l]),m=ee.useCallback(()=>{s&&l({type:6,time:Date.now()})},[s,l]),x=ee.useCallback((e,a)=>{let{reverseOrder:s=!1,gutter:i=8,defaultPosition:r}=a||{},l=t.filter(a=>(a.position||r)===(e.position||r)&&a.height),n=l.findIndex(a=>a.id===e.id),o=l.filter((e,a)=>a<n&&e.visible).length;return l.filter(e=>e.visible).slice(...s?[o+1]:[0,o]).reduce((e,a)=>e+(a.height||0)+i,0)},[t]);return ee.useEffect(()=>{t.forEach(e=>{if(e.dismissed)r(e.id,e.removeDelay);else{let a=i.get(e.id);a&&(clearTimeout(a),i.delete(e.id))}})},[t,r]),{toasts:t,handlers:{updateHeight:c,startPause:n,endPause:m,calculateOffset:x}}},Ve=je`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,_e=je`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Ge=je`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Ye=ke("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Ve} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${_e} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Ge} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,$e=je`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Ue=ke("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${$e} 1s linear infinite;
`,We=je`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,qe=je`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Xe=ke("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${We} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${qe} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Je=ke("div")`
  position: absolute;
`,Ze=ke("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Qe=je`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ea=ke("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Qe} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,aa=({toast:e})=>{let{icon:a,type:t,iconTheme:s}=e;return void 0!==a?"string"==typeof a?ee.createElement(ea,null,a):a:"blank"===t?null:ee.createElement(Ze,null,ee.createElement(Ue,o({},s)),"loading"!==t&&ee.createElement(Je,null,"error"===t?ee.createElement(Ye,o({},s)):ee.createElement(Xe,o({},s))))},ta=e=>`\n0% {transform: translate3d(0,${-200*e}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`,sa=e=>`\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${-150*e}%,-1px) scale(.6); opacity:0;}\n`,ia=ke("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,ra=ke("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,la=ee.memo(({toast:e,position:a,style:t,children:s})=>{let i=e.height?((e,a)=>{let t=e.includes("top")?1:-1,[s,i]=Se()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[ta(t),sa(t)];return{animation:a?`${je(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${je(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}})(e.position||a||"top-center",e.visible):{opacity:0},r=ee.createElement(aa,{toast:e}),l=ee.createElement(ra,o({},e.ariaProps),Ne(e.message,e));return ee.createElement(ia,{className:e.className,style:o(o(o({},i),t),e.style)},"function"==typeof s?s({icon:r,message:l}):ee.createElement(ee.Fragment,null,r,l))});He=ee.createElement,ye.p=Oe,ce=He,me=Be,xe=Ke;var na=({id:e,className:a,style:t,onHeightUpdate:s,children:i})=>{let r=ee.useCallback(a=>{if(a){let t=()=>{let t=a.getBoundingClientRect().height;s(e,t)};t(),new MutationObserver(t).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[e,s]);return ee.createElement("div",{ref:r,className:a,style:t},i)},oa=ve`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,da=({reverseOrder:e,position:a="top-center",toastOptions:t,gutter:s,children:i,toasterId:r,containerStyle:l,containerClassName:n})=>{let{toasts:d,handlers:c}=Fe(t,r);return ee.createElement("div",{"data-rht-toaster":r||"",style:o({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},l),className:n,onMouseEnter:c.startPause,onMouseLeave:c.endPause},d.map(t=>{let r=t.position||a,l=((e,a)=>{let t=e.includes("top"),s=t?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return o(o({left:0,right:0,display:"flex",position:"absolute",transition:Se()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${a*(t?1:-1)}px)`},s),i)})(r,c.calculateOffset(t,{reverseOrder:e,gutter:s,defaultPosition:a}));return ee.createElement(na,{id:t.id,key:t.id,onHeightUpdate:c.updateHeight,className:t.visible?oa:"",style:l},"custom"===t.type?Ne(t.message,t):i?i(t):ee.createElement(la,{toast:t,position:r}))}))},ca=Le;function ma(e,a){let t;try{t=e()}catch(He){return}return{getItem:e=>{var a;const s=e=>null===e?null:JSON.parse(e,void 0),i=null!=(a=t.getItem(e))?a:null;return i instanceof Promise?i.then(s):s(i)},setItem:(e,a)=>t.setItem(e,JSON.stringify(a,void 0)),removeItem:e=>t.removeItem(e)}}const xa=e=>a=>{try{const t=e(a);return t instanceof Promise?t:{then:e=>xa(e)(t),catch(e){return this}}}catch(He){return{then(e){return this},catch:a=>xa(a)(He)}}},ua=(e,a)=>(t,s,i)=>{let r=o({storage:ma(()=>localStorage),partialize:e=>e,version:0,merge:(e,a)=>o(o({},a),e)},a),l=!1;const n=new Set,d=new Set;let c=r.storage;if(!c)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${r.name}', the given storage is currently unavailable.`),t(...e)},s,i);const m=()=>{const e=r.partialize(o({},s()));return c.setItem(r.name,{state:e,version:r.version})},x=i.setState;i.setState=(e,a)=>(x(e,a),m());const u=e((...e)=>(t(...e),m()),s,i);let h;i.getInitialState=()=>u;const p=()=>{var e,a;if(!c)return;l=!1,n.forEach(e=>{var a;return e(null!=(a=s())?a:u)});const i=(null==(a=r.onRehydrateStorage)?void 0:a.call(r,null!=(e=s())?e:u))||void 0;return xa(c.getItem.bind(c))(r.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===r.version)return[!1,e.state];if(r.migrate){const a=r.migrate(e.state,e.version);return a instanceof Promise?a.then(e=>[!0,e]):[!0,a]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var a;const[i,l]=e;if(h=r.merge(l,null!=(a=s())?a:u),t(h,!0),i)return m()}).then(()=>{null==i||i(h,void 0),h=s(),l=!0,d.forEach(e=>e(h))}).catch(e=>{null==i||i(void 0,e)})};return i.persist={setOptions:e=>{r=o(o({},r),e),e.storage&&(c=e.storage)},clearStorage:()=>{null==c||c.removeItem(r.name)},getOptions:()=>r,rehydrate:()=>p(),hasHydrated:()=>l,onHydrate:e=>(n.add(e),()=>{n.delete(e)}),onFinishHydration:e=>(d.add(e),()=>{d.delete(e)})},r.skipHydration||p(),h||u},ha=le()(ua((e,a)=>({user:null,books:[],currentBook:null,currentPage:1,aiHistory:[],isAILoading:!1,userProgress:null,currentSession:null,isSidebarOpen:!0,isPdfViewerOpen:!1,activeTab:"library",setUser:a=>e({user:a}),setBooks:a=>e({books:a}),setCurrentBook:a=>e({currentBook:a,currentPage:1,isPdfViewerOpen:null!==a}),setCurrentPage:t=>{const{currentBook:s}=a();s&&e({currentPage:t,books:a().books.map(e=>e.id===s.id?d(o({},e),{lastAccessed:new Date}):e)})},addAIResponse:a=>e(e=>({aiHistory:[...e.aiHistory,a]})),setAILoading:a=>e({isAILoading:a}),updateProgress:a=>e(e=>({userProgress:e.userProgress?o(o({},e.userProgress),a):null})),startStudySession:a=>{const t=`session-${Date.now()}`;e({currentSession:{id:t,startTime:new Date,endTime:new Date,bookId:a,pagesRead:0,notesCreated:0,aiInteractions:0}})},endStudySession:()=>{const{currentSession:t,userProgress:s}=a();if(t&&s){const a=d(o({},t),{endTime:new Date});e({currentSession:null,userProgress:d(o({},s),{totalStudyTime:s.totalStudyTime+(a.endTime.getTime()-a.startTime.getTime())/1e3/60,studyHistory:[...s.studyHistory,a]})})}},toggleSidebar:()=>e(e=>({isSidebarOpen:!e.isSidebarOpen})),togglePdfViewer:()=>e(e=>({isPdfViewerOpen:!e.isPdfViewerOpen})),setActiveTab:a=>e({activeTab:a}),addNote:t=>{const{currentBook:s}=a();s&&e({books:a().books.map(e=>e.id===s.id?d(o({},e),{notes:[...e.notes||[],t]}):e),currentBook:d(o({},s),{notes:[...s.notes||[],t]})})},updateBookProgress:(t,s)=>{e({books:a().books.map(e=>e.id===t?d(o({},e),{progress:s}):e)});const{currentBook:i}=a();(null==i?void 0:i.id)===t&&e({currentBook:d(o({},i),{progress:s})})}}),{name:"medai-storage",partialize:e=>({user:e.user,books:e.books,userProgress:e.userProgress,aiHistory:e.aiHistory.slice(-50)})})),pa=[{id:"anatomy-101",title:"Gray's Anatomy for Students",author:"Richard Drake, A. Wayne Vogl, Adam W. M. Mitchell",category:"anatomy",description:"The most comprehensive and visually stunning anatomy textbook, featuring detailed illustrations and clinical correlations that bring anatomy to life.",coverImage:"https://images.unsplash.com/photo-1559757148-5c350d0d3c56?w=400&h=600&fit=crop",difficulty:"intermediate",keywords:["anatomy","human body","medical illustration","clinical anatomy"],progress:45,chapters:[{id:"ch1",title:"Introduction to Anatomy",pageStart:1,pageEnd:28,completed:!0},{id:"ch2",title:"Back",pageStart:29,pageEnd:98,completed:!0},{id:"ch3",title:"Thorax",pageStart:99,pageEnd:186,completed:!1,subChapters:[{id:"ch3-1",title:"Chest Wall",pageStart:99,pageEnd:120},{id:"ch3-2",title:"Mediastinum",pageStart:121,pageEnd:150},{id:"ch3-3",title:"Pleural Cavities",pageStart:151,pageEnd:186}]}]},{id:"physiology-guide",title:"Guyton and Hall Textbook of Medical Physiology",author:"John E. Hall, Michael E. Hall",category:"physiology",description:"The world's foremost medical physiology textbook, offering unparalleled depth in understanding how the human body functions at cellular and systemic levels.",coverImage:"https://images.unsplash.com/photo-1576091160399-112ba8d25d1d?w=400&h=600&fit=crop",difficulty:"advanced",keywords:["physiology","body systems","cellular function","homeostasis"],progress:23},{id:"pathology-basics",title:"Robbins Basic Pathology",author:"Vinay Kumar, Abul K. Abbas, Jon C. Aster",category:"pathology",description:"Essential pathology knowledge with stunning visual aids and clear explanations of disease mechanisms, perfect for medical students and residents.",coverImage:"https://images.unsplash.com/photo-1582719508461-905c673771fd?w=400&h=600&fit=crop",difficulty:"intermediate",keywords:["pathology","disease","diagnosis","cellular pathology"],progress:67},{id:"pharmacology-essentials",title:"Katzung's Basic & Clinical Pharmacology",author:"Bertram Katzung, Anthony Trevor",category:"pharmacology",description:"Comprehensive guide to pharmacology covering drug mechanisms, clinical applications, and the latest therapeutic developments.",coverImage:"https://images.unsplash.com/photo-1587854692152-cbe660dbde88?w=400&h=600&fit=crop",difficulty:"advanced",keywords:["drugs","pharmacology","therapeutics","drug interactions"],progress:12},{id:"internal-medicine",title:"Harrison's Principles of Internal Medicine",author:"Dennis Kasper, Anthony Fauci, Stephen Hauser",category:"internal-medicine",description:"The most trusted resource in internal medicine, offering comprehensive coverage of pathophysiology and treatment of diseases.",coverImage:"https://images.unsplash.com/photo-1579684385127-1ef15d508118?w=400&h=600&fit=crop",difficulty:"expert",keywords:["internal medicine","diagnosis","treatment","clinical practice"],progress:0},{id:"emergency-handbook",title:"Tintinalli's Emergency Medicine Manual",author:"Judith Tintinalli, J. Stephan Stapczynski",category:"emergency-medicine",description:"Quick-reference guide for emergency medicine practitioners with evidence-based protocols and life-saving procedures.",coverImage:"https://images.unsplash.com/photo-1519494026892-80bbd2d6fd0d?w=400&h=600&fit=crop",difficulty:"advanced",keywords:["emergency","acute care","trauma","critical care"],progress:89},{id:"clinical-skills",title:"Bates' Guide to Physical Examination",author:"Lynn Bickley, Peter Szilagyi",category:"clinical-skills",description:"Master the art of patient examination with this comprehensive guide featuring step-by-step techniques and clinical pearls.",coverImage:"https://images.unsplash.com/photo-1584820927498-cfe5211fd8bf?w=400&h=600&fit=crop",difficulty:"beginner",keywords:["physical exam","clinical skills","patient interaction","diagnosis"],progress:78},{id:"radiology-fundamentals",title:"Learning Radiology: Recognizing the Basics",author:"William Herring",category:"radiology",description:"Essential radiology knowledge with clear explanations and numerous imaging examples to develop pattern recognition skills.",coverImage:"https://images.unsplash.com/photo-1516549655169-df83a0774514?w=400&h=600&fit=crop",difficulty:"intermediate",keywords:["radiology","imaging","X-ray","MRI","CT scan"],progress:34}],ga=(e,a)=>{const t={"anatomy-101":"Chapter 3: The Thorax\n\nThe thoracic cavity is bounded by the thoracic wall and contains vital organs including the heart, lungs, and great vessels. Understanding thoracic anatomy is crucial for interpreting clinical signs and symptoms.\n\nKey Structures:\n1. Thoracic Wall\n   - Ribs and intercostal spaces\n   - Muscles of respiration\n   - Neurovascular supply\n\n2. Mediastinum\n   - Superior mediastinum: Contains great vessels, trachea, esophagus\n   - Inferior mediastinum: Divided into anterior, middle, and posterior\n   - The heart occupies the middle mediastinum\n\n3. Pleural Cavities\n   - Parietal and visceral pleura\n   - Pleural recesses\n   - Clinical significance of pleural effusions\n\nClinical Correlation:\nPneumothorax occurs when air enters the pleural space, causing lung collapse. Understanding the anatomy helps in performing emergency procedures like needle decompression at the 2nd intercostal space, midclavicular line.","physiology-guide":"Chapter 8: Cardiovascular Physiology\n\nThe cardiovascular system maintains tissue perfusion through coordinated cardiac and vascular function. This chapter explores the mechanisms of cardiac contraction, regulation of blood pressure, and tissue perfusion.\n\nCardiac Cycle:\n1. Systole - Ventricular contraction\n   - Isovolumetric contraction\n   - Ejection phase\n   \n2. Diastole - Ventricular relaxation\n   - Isovolumetric relaxation\n   - Ventricular filling\n\nRegulation of Cardiac Output:\nCO = HR × SV\n- Heart Rate regulation: Autonomic nervous system\n- Stroke Volume determinants: Preload, afterload, contractility\n\nBlood Pressure Regulation:\n- Short-term: Baroreceptor reflex\n- Long-term: Renin-angiotensin-aldosterone system"}[e];return t?`Page ${a}\n\n${t}\n\n[Additional content would appear here in actual implementation]`:"Content not available for this page."};class ya extends ee.Component{constructor(e){super(e),c(this,"logErrorToService",(e,a)=>{const t={message:e.toString(),stack:e.stack,componentStack:a.componentStack,timestamp:(new Date).toISOString(),url:window.location.href,userAgent:navigator.userAgent};console.log("Error logged:",t)}),c(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})}),c(this,"handleReload",()=>{window.location.reload()}),c(this,"handleHome",()=>{window.location.href="/medcircle/"}),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null}}componentDidCatch(e,a){console.error("ErrorBoundary caught an error:",e,a),this.setState({error:e,errorInfo:a}),"undefined"!=typeof window&&"localhost"!==window.location.hostname&&this.logErrorToService(e,a)}render(){return this.state.hasError?this.props.fallback?x.jsx(x.Fragment,{children:this.props.fallback}):x.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:x.jsxs("div",{className:"max-w-2xl w-full bg-gray-800/90 rounded-2xl p-8 border border-red-500/30",children:[x.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[x.jsx("div",{className:"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center",children:x.jsx(u,{className:"w-8 h-8 text-red-400"})}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-bold text-white",children:"Bir Hata Oluştu"}),x.jsx("p",{className:"text-gray-300",children:"Uygulama beklenmedik bir hatayla karşılaştı"})]})]}),!1,x.jsxs("div",{className:"space-y-4",children:[x.jsx("p",{className:"text-gray-300",children:"Lütfen aşağıdaki seçeneklerden birini deneyin:"}),x.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[x.jsxs("button",{onClick:this.handleReset,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-blue-500 hover:bg-blue-600 text-white font-semibold rounded-lg transition-colors",children:[x.jsx(h,{className:"w-5 h-5"}),"Tekrar Dene"]}),x.jsxs("button",{onClick:this.handleReload,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-gray-700 hover:bg-gray-600 text-white font-semibold rounded-lg transition-colors",children:[x.jsx(h,{className:"w-5 h-5"}),"Sayfayı Yenile"]}),x.jsxs("button",{onClick:this.handleHome,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-gray-700 hover:bg-gray-600 text-white font-semibold rounded-lg transition-colors",children:[x.jsx(p,{className:"w-5 h-5"}),"Ana Sayfa"]})]})]}),x.jsx("div",{className:"mt-6 p-4 bg-blue-900/20 rounded-lg border border-blue-500/30",children:x.jsxs("p",{className:"text-sm text-blue-300",children:[x.jsx("strong",{children:"İpucu:"})," Sorun devam ederse, tarayıcı önbelleğinizi temizlemeyi deneyin (Ctrl/Cmd + Shift + R) veya farklı bir tarayıcı kullanın."]})})]})}):this.props.children}}const ba=({size:e="md",message:a})=>x.jsxs("div",{className:"flex flex-col items-center justify-center p-8",children:[x.jsx(g.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:`${{sm:"w-6 h-6",md:"w-10 h-10",lg:"w-16 h-16"}[e]} border-4 border-gray-700 border-t-cyan-400 rounded-full`}),a&&x.jsx("p",{className:"mt-4 text-gray-400 text-sm font-medium",children:a})]}),fa=()=>x.jsx("div",{className:"fixed inset-0 bg-gray-900/95 backdrop-blur-sm flex items-center justify-center z-50",children:x.jsxs(g.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-center",children:[x.jsx(ba,{size:"lg"}),x.jsx("h2",{className:"text-xl font-bold text-white mt-4",children:"MedCircle Yükleniyor"}),x.jsx("p",{className:"text-gray-400 mt-2",children:"Lütfen bekleyin..."})]})}),va=()=>{const{user:e,setUser:a}=ha(),t=[{path:"/",label:"Ana Sayfa",icon:p},{path:"/library",label:"Kütüphane",icon:b},{path:"/reader",label:"Okuyucu",icon:b},{path:"/turkish-mep",label:"MEP Modülleri",icon:f},{path:"/virtual-patient",label:"Sanal Hasta",icon:v},{path:"/ai-chat",label:"AI Asistan",icon:j},{path:"/progress",label:"Öğrenme Analitiği",icon:k}];return x.jsxs("div",{className:"w-72 h-full glass border-r border-white/10 flex flex-col",children:[x.jsx("div",{className:"p-6 border-b border-white/10",children:x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-medical-blue to-medical-purple p-0.5",children:x.jsx("div",{className:"w-full h-full rounded-xl bg-medical-darker flex items-center justify-center",children:x.jsx(y,{className:"w-6 h-6 text-white"})})}),x.jsxs("div",{children:[x.jsx("h2",{className:"text-xl font-bold text-gradient",children:"MedCircle"}),x.jsx("p",{className:"text-xs text-gray-400",children:"Türk Tıp Eğitimi"})]})]})}),x.jsx("nav",{className:"flex-1 p-4 space-y-2",children:t.map(e=>{const a=e.icon;return x.jsx(ae,{to:e.path,className:({isActive:e})=>"group flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 "+(e?"bg-medical-blue/20 text-white shadow-glow":"text-gray-400 hover:bg-white/5 hover:text-white"),children:({isActive:t})=>x.jsxs(x.Fragment,{children:[x.jsx(a,{className:"w-5 h-5 "+(t?"text-medical-blue":"")}),x.jsx("span",{className:"font-medium",children:e.label}),"AI Asistan"===e.label&&x.jsx(N,{className:"w-4 h-4 ml-auto text-medical-cyan animate-pulse"}),"MEP Modülleri"===e.label&&x.jsx("div",{className:"ml-auto",children:x.jsx("span",{className:"text-xs bg-medical-blue/20 text-medical-blue px-2 py-1 rounded-full",children:"YENİ"})})]})},e.path)})}),x.jsxs("div",{className:"p-4 border-t border-white/10",children:[x.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-white/5 mb-3",children:[x.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-medical-cyan to-medical-blue flex items-center justify-center",children:x.jsx(w,{className:"w-5 h-5 text-white"})}),x.jsxs("div",{className:"flex-1",children:[x.jsx("p",{className:"font-medium text-white text-sm",children:null==e?void 0:e.name}),x.jsx("p",{className:"text-xs text-gray-400 capitalize",children:null==e?void 0:e.level})]})]}),x.jsxs(g.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{a(null),localStorage.removeItem("medai-user"),ha.setState({userProgress:null,currentBook:null,aiHistory:[]})},className:"w-full flex items-center justify-center gap-2 px-4 py-2 rounded-lg bg-red-500/10 text-red-400 hover:bg-red-500/20 transition-colors",children:[x.jsx(S,{className:"w-4 h-4"}),x.jsx("span",{className:"text-sm font-medium",children:"Çıkış"})]})]}),x.jsx("div",{className:"p-4",children:x.jsxs("div",{className:"p-3 rounded-xl bg-gradient-to-r from-medical-purple/20 to-medical-pink/20 border border-medical-purple/30",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[x.jsx(N,{className:"w-4 h-4 text-medical-pink"}),x.jsx("span",{className:"text-xs font-semibold text-white",children:"Türk Tıp Eğitimi"})]}),x.jsx("p",{className:"text-xs text-gray-300",children:"Tıp eğitiminin geleceğini deneyimle"})]})})]})},ja=()=>{const{toggleSidebar:e,activeTab:a}=ha(),[t,s]=ee.useState(!0),[i,r]=ee.useState(""),l={library:"Medical Library",reading:"Reading Session","ai-chat":"AI Assistant",progress:"Your Progress"}[a]||"Dashboard";return x.jsx("header",{className:"glass border-b border-white/10 px-6 py-4",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx(g.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"lg:hidden p-2 rounded-lg hover:bg-white/10 transition-colors",children:x.jsx(A,{className:"w-5 h-5 text-white"})}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-bold text-white",children:l}),x.jsx("p",{className:"text-sm text-gray-400",children:(new Date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]}),x.jsx("div",{className:"hidden md:flex flex-1 max-w-2xl mx-8",children:x.jsxs("div",{className:"relative w-full",children:[x.jsx(T,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),x.jsx("input",{type:"text",value:i,onChange:e=>r(e.target.value),placeholder:"Search books, topics, or ask a question...",className:"w-full pl-10 pr-4 py-2.5 rounded-xl bg-white/5 border border-white/10 text-white placeholder-gray-500 focus:outline-none focus:border-medical-blue focus:shadow-glow transition-all"}),i&&x.jsx(g.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"absolute top-full left-0 right-0 mt-2 p-4 rounded-xl glass border border-white/10 shadow-2xl",children:x.jsx("p",{className:"text-sm text-gray-400",children:"Press Enter to search or ask AI"})})]})}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsxs(g.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 rounded-lg hover:bg-white/10 transition-colors relative",children:[x.jsx(P,{className:"w-5 h-5 text-white"}),x.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-medical-pink rounded-full animate-pulse"})]}),x.jsx(g.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>s(!t),className:"p-2 rounded-lg hover:bg-white/10 transition-colors",children:t?x.jsx(E,{className:"w-5 h-5 text-white"}):x.jsx(C,{className:"w-5 h-5 text-white"})}),x.jsxs("div",{className:"hidden lg:flex items-center gap-4 ml-4 pl-4 border-l border-white/10",children:[x.jsxs("div",{className:"text-right",children:[x.jsx("p",{className:"text-xs text-gray-400",children:"Study Streak"}),x.jsx("p",{className:"text-sm font-semibold text-medical-green",children:"7 days"})]}),x.jsxs("div",{className:"text-right",children:[x.jsx("p",{className:"text-xs text-gray-400",children:"Progress"}),x.jsx("p",{className:"text-sm font-semibold text-medical-blue",children:"42%"})]})]})]})]})})},ka=()=>{const e=ha(e=>e.isSidebarOpen);return x.jsxs("div",{className:"flex h-screen overflow-hidden",children:[x.jsx(I,{mode:"wait",children:e&&x.jsx(g.div,{initial:{x:-280},animate:{x:0},exit:{x:-280},transition:{type:"spring",damping:25,stiffness:200},className:"fixed lg:relative z-30 h-full",children:x.jsx(va,{})})}),x.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[x.jsx(ja,{}),x.jsx("main",{className:"flex-1 overflow-auto bg-gradient-to-br from-medical-darker via-medical-dark to-medical-darker",children:x.jsx("div",{className:"h-full",children:x.jsx(I,{mode:"wait",children:x.jsx(g.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:"h-full",children:x.jsx(te,{})},location.pathname)})})})]}),e&&x.jsx(g.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>ha.setState({isSidebarOpen:!1}),className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-20 lg:hidden"})]})},Na=()=>{const[e,a]=ee.useState(""),[t,s]=ee.useState("student"),i=ha(e=>e.setUser),r=[{value:"student",label:"Medical Student",icon:f},{value:"resident",label:"Resident",icon:z},{value:"physician",label:"Physician",icon:v},{value:"specialist",label:"Specialist",icon:y}];return x.jsxs("div",{className:"min-h-screen bg-medical-darker flex items-center justify-center p-4 overflow-hidden",children:[x.jsxs("div",{className:"absolute inset-0",children:[x.jsx("div",{className:"absolute top-20 left-20 w-96 h-96 bg-medical-blue/10 rounded-full blur-3xl animate-float"}),x.jsx("div",{className:"absolute bottom-20 right-20 w-96 h-96 bg-medical-purple/10 rounded-full blur-3xl animate-float-slow"}),x.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-medical-cyan/5 rounded-full blur-3xl"})]}),x.jsx("div",{className:"absolute inset-0 medical-grid opacity-10"}),x.jsx(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"relative z-10 max-w-2xl w-full",children:x.jsxs("div",{className:"glass rounded-3xl p-12 shadow-2xl",children:[x.jsxs(g.div,{initial:{scale:.9},animate:{scale:1},transition:{duration:.5},className:"text-center mb-10",children:[x.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 rounded-full bg-gradient-to-br from-medical-blue to-medical-purple p-1 mb-6",children:x.jsx("div",{className:"w-full h-full rounded-full bg-medical-darker flex items-center justify-center",children:x.jsx(y,{className:"w-12 h-12 text-white"})})}),x.jsx("h1",{className:"text-5xl font-bold mb-4",children:x.jsx("span",{className:"text-gradient",children:"MedAI Education"})}),x.jsx("p",{className:"text-xl text-gray-300",children:"Bilişsel Bilim Destekli Tıbbi Eğitim Ekosistemi"}),x.jsxs("div",{className:"flex items-center justify-center gap-2 mt-4",children:[x.jsx(N,{className:"w-5 h-5 text-medical-cyan animate-pulse"}),x.jsx("p",{className:"text-sm text-gray-400",children:"Powered by Gemini 2.5 Flash-Lite"}),x.jsx(N,{className:"w-5 h-5 text-medical-cyan animate-pulse"})]})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Your Name"}),x.jsx("input",{type:"text",value:e,onChange:e=>a(e.target.value),className:"w-full px-4 py-3 rounded-lg bg-white/5 border border-white/10 text-white placeholder-gray-500 focus:outline-none focus:border-medical-blue focus:shadow-glow transition-all",placeholder:"Enter your name"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Your Level"}),x.jsx("div",{className:"grid grid-cols-2 gap-3",children:r.map(e=>{const a=e.icon;return x.jsxs(g.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>s(e.value),className:"p-4 rounded-lg border transition-all "+(t===e.value?"bg-medical-blue/20 border-medical-blue shadow-glow":"bg-white/5 border-white/10 hover:border-white/20"),children:[x.jsx(a,{className:"w-6 h-6 mx-auto mb-2 "+(t===e.value?"text-medical-blue":"text-gray-400")}),x.jsx("p",{className:"text-sm font-medium "+(t===e.value?"text-white":"text-gray-300"),children:e.label})]},e.value)})})]}),x.jsx(g.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{if(e.trim()){const a={id:`user-${Date.now()}`,name:e.trim(),level:t};i(a),localStorage.setItem("medai-user",JSON.stringify(a)),ha.setState({userProgress:{userId:a.id,totalStudyTime:0,booksCompleted:0,currentStreak:0,achievements:[],weakAreas:[],studyHistory:[]}})}},disabled:!e.trim(),className:"btn-premium w-full disabled:opacity-50 disabled:cursor-not-allowed",children:x.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-2",children:["Start Learning",x.jsx(N,{className:"w-5 h-5"})]})})]}),x.jsxs("div",{className:"mt-10 pt-10 border-t border-white/10",children:[x.jsx("p",{className:"text-center text-sm text-gray-400 mb-4",children:"What awaits you:"}),x.jsx("div",{className:"flex flex-wrap justify-center gap-3",children:["AI-Powered Learning","Medical Books Library","Interactive Study","Progress Tracking","Personalized Experience"].map(e=>x.jsx("span",{className:"px-3 py-1 rounded-full bg-white/5 border border-white/10 text-xs text-gray-300",children:e},e))})]})]})})]})},wa={"görevler":{flash:[{id:"flash-dm-tip1-tip2","başlık":"Genç Hastada Yeni Tanı Diabetes","süre":6,"kognitifYük":3,konseptler:["Patogenez","Klinik","Laboratuvar"],"içerik":{"bölümler":[{"başlık":"HIZLI TANI","süre":2,tip:"vaka","içerik":{sunum:"16 yaşında erkek hasta, son 2 aydır poliüri, polidipsi ve 8 kg kilo kaybı şikayeti ile başvuruyor. Açlık kan şekeri: 285 mg/dL",soru:"Bu hastada ilk düşüneceğiniz diabetes tipi hangisidir?","seçenekler":[{metin:"Tip 1 DM","doğru":!0,feedback:"Doğru! Genç yaş, akut başlangıç, kilo kaybı Tip 1 DM düşündürür."},{metin:"Tip 2 DM","doğru":!1,feedback:"Yaş ve prezentasyon tekrar değerlendir"},{metin:"MODY","doğru":!1,feedback:"Aile öyküsü yok, daha nadir"},{metin:"Sekonder DM","doğru":!1,feedback:"Altta yatan neden belirtilmemiş"}],"açıklama":{"Tip 1 DM Özellikleri":["Genç yaş (<30)","Akut başlangıç (haftalar)","Belirgin kilo kaybı","Ketoza eğilim yüksek"]}},interaktif:!0},{"başlık":"PATOGENEZ FLASH CARD","süre":2,tip:"flashcard","içerik":{"karşılaştırma":{"TİP 1 DM":{mekanizma:"Beta hücre otoimmün destrüksiyonu",otoantikorlar:["GAD","IA-2","IAA"],genetik:"HLA-DR3/DR4",tedavi:"İnsülin bağımlı"},"TİP 2 DM":{mekanizma:"İnsülin direnci + sekresyon azalması","klinikÖzellikler":["Metabolik sendrom","Akantozis nigrikans"],genetik:"Poligenik",tedavi:"Oral antidiyabetik yanıt"}},quickQuestion:{soru:"Tip 1 DM'de hangi otoantikor en sık pozitiftir?",cevap:"GAD (Anti-GAD antikorları %70-80 pozitif)"}},interaktif:!0},{"başlık":"KLİNİK KONTROL LİSTESİ","süre":2,tip:"eşleştirme","içerik":{checklistChallenge:"Tip 1 DM bulguları","doğruBulgular":["Poliüri/Polidipsi","Polifaji","Kilo kaybı","Ketonüri"],"yanlışBulgular":["Obezite (Tip 2'de görülür)","Yavaş başlangıç (Tip 2 karakteristik)"],bonusSoru:{soru:"DKA'nın klasik triadı?",cevap:["Hiperglisemi","Ketonemi","Metabolik asidoz"]}},interaktif:!0}],"özetMesajlar":["✅ Tip 1 vs Tip 2 ayırıcı özellikler","✅ Otoantikor paneli","✅ Acil komplikasyon farkındalığı"],"kazanılanXP":50}}],focus:[],deep:[]}},Sa={"görevler":{flash:[],focus:[{id:"focus-akut-pankreatit","başlık":"Epigastrik Ağrıdan Yoğun Bakıma: Pankreatit Yönetimi","süre":14,"kognitifYük":6,konseptler:["Tanı kriterleri","Etiyoloji","Skorlama","Komplikasyonlar","Tedavi","Prognoz"],"içerik":{"bölümler":[{"başlık":"TANI KRİTERLERİ VE KLİNİK","süre":3,tip:"vaka","içerik":{vaka:"42 yaşında kadın, alkol kullanım öyküsü yok, 6 saattir şiddetli epigastrik ağrı, sırta yayılım, kusma. Ateş: 37.8°C",atlantaKriterleri:{"başlık":"Atlanta Kriterleri (3'ten 2'si)",kriterler:[{kriter:"Tipik karın ağrısı",var:!0},{kriter:"Amilaz/Lipaz > 3x normal","değer":"Lipaz: 580 U/L",var:!0},{kriter:"Görüntüleme bulgusu","değer":"CT henüz yok",var:!1}]},interaktifSoru:{soru:"Lipaz neden amilazdan üstün?","seçenekler":[{metin:"Daha erken yükselir","doğru":!1},{metin:"Daha spesifik ve daha uzun yüksek kalır","doğru":!0},{metin:"Daha ucuz test","doğru":!1},{metin:"Böbrek yetmezliğinden etkilenmez","doğru":!1}]},etiyolojiMnemonic:{"başlık":"GET SMASHED Mnemoniği","açılım":{G:"Gallstones (EN SIK %40)",E:"Ethanol (%30)",T:"Trauma",S:"Steroids / Scorpion sting",M:"Mumps",A:"Autoimmune",S2:"Scorpion sting (alternatif)",H:"Hyperlipidemia/Hypercalcemia",E2:"ERCP (endoskopik)",D:"Drugs"}}},interaktif:!0},{"başlık":"PROGNOZ DEĞERLENDİRMESİ","süre":4,tip:"hesaplama","içerik":{ransonKriterleri:{"başvuruda":[{kriter:"Yaş >55",hastaDurum:"42 yaş",puan:0},{kriter:"WBC >16,000",hastaDurum:"18,500",puan:1},{kriter:"Glukoz >200",hastaDurum:"245",puan:1},{kriter:"LDH >350",hastaDurum:"420",puan:1},{kriter:"AST >250",hastaDurum:"180",puan:0}],saat48:["Hct >%10 düşüş","BUN >5 mg/dL artış","Ca <8 mg/dL","PO2 <60 mmHg","Baz açığı >4","Sıvı sekestrasyon >6L"],yorum:"Skor: 3/5 (başvuruda) → Orta-ağır pankreatit riski"},bisapSkoru:{parametreler:[{param:"BUN >25","değer":"Hayır",skor:0},{param:"Impaired mental status","değer":"Hayır",skor:0},{param:"SIRS ≥2 kriter","değer":"Evet",skor:1},{param:"Age >60","değer":"Hayır",skor:0},{param:"Pleural effusion","değer":"CT yok",skor:0}],toplam:1,yorum:"Düşük mortalite riski"}},interaktif:!0},{"başlık":"TEDAVİ YÖNETİMİ","süre":4,tip:"algoritma","içerik":{"erkenDönem":{"1. Agresif Sıvı Resüsitasyonu":["5-10 mL/kg/saat ilk saatler","Ringer laktat > SF (NEJM 2022)","Hedef: İdrar çıkışı >0.5 mL/kg/saat"],"2. Ağrı Kontrolü":{"sıralama":["Meperidin (Oddhi sfinkter spazmı az)","Fentanil","Morfin (teorik risk, pratikte OK)"]},"3. Beslenme":{"eskiYaklaşım":"NPO tutun ❌","yeniYaklaşım":"Tolere edince oral başla ✓",enteralFaydalar:["Bakteriyel translokasyon ↓","Enfeksiyon riski ↓","Mortalite ↓"]},"4. Antibiyotik?":{hafifPankreatit:"Gerek yok ✓",nekrotizanEnfeksiyon:"Karbapenem",profilaksi:"Kanıtlanmış fayda yok"}},"ercpZamanlaması":{kolanjitVar:"24 saat içinde",biliyerKolanjitYok:"48-72 saat","alkolDiğer":"ERCP endikasyonu yok"}},interaktif:!0}],"özetMesajlar":["✅ Lipaz > Amilaz (spesifite ve sensitivite)","✅ İlk 48 saat kritik - agresif hidrasyon","✅ Erken enteral beslenme > TPN","✅ Antibiyotik sadece kanıtlanmış enfeksiyonda","✅ ERCP sadece kolanjitte acil"],"kazanılanXP":150}}],deep:[{id:"deep-coklu-travma-atls","başlık":"Altın Saat: Politravma Yönetimi","süre":24,"kognitifYük":10,konseptler:["Primary survey","Secondary survey","Resüsitasyon","Görüntüleme","Damage control","Skorlama","Transfüzyon","Komplikasyonlar"],"içerik":{"bölümler":[{"başlık":"PRIMARY SURVEY (ABCDE)","süre":5,tip:"algoritma","içerik":{vaka:"25 yaşında erkek, motosiklet kazası, sahadan GCS: 8, hipotansif, takipneik",aAirway:{"değerlendirme":["Konuşabiliyor mu? → Hayır (GCS 8)","Stridor/gürültülü solunum? → Var","Yabancı cisim/kan/kusmuk? → Kan var","Maksillofasiyal travma? → Mandibula fraktürü şüphesi"],"müdahale":"Endotrakeal entübasyon (GCS <9)",cSpine:{protokol:"In-line stabilizasyon ZORUNLU",rsi:["Preoxygenation","Etomidate 0.3 mg/kg","Succinylcholine 1.5 mg/kg","Sellick manevrası","Video laringoskopi"]}},bBreathing:{muayene:{inspeksiyon:"Paradoksal hareket sağda",palpasyon:"Krepitasyon, subkutan amfizem","perküsyon":"Sağda hiperrezonans","oskültasyon":"Sağda solunum sesleri azalmış"},"tanı":"Tension pnömotoraks","acilMüdahale":["Needle dekompresyon (2. ICS, midklaviküler)","Takiben tüp torakostomi (5. ICS, midaksiller)"]},cCirculation:{vitalBulgular:{bp:"80/50","nabız":"130, zayıf",cilt:"Soğuk, soluk, nemli",kapillerDolum:">3 saniye"},"şokSınıfı":{"sınıf":"Class III Hemorajik Şok","kanKaybı":"1500-2000 mL (%30-40)","özellikler":["Nabız >120","BP düşük","Mental: Anksiyöz, konfüze","İdrar: <20 mL/saat"]},"resüsitasyon":["2 adet large-bore (16-18G) IV","Warmed kristaloid 1-2 L bolus","O(-) kan hazırla","Massive transfusion protokolü aktive"],"kanamaKaynağı":{"Blood on the floor and four more":["External (floor) - Kontrol edildi","Chest - Tüp torakostomi 200mL","Abdomen - FAST yapılacak","Pelvis - Instabil","Long bones - Femur deformitesi"]}},dDisability:{gcs:{eye:"2 (ağrıya açıyor)",verbal:"2 (anlaşılmaz sesler)",motor:"4 (ağrıdan kaçınma)",toplam:8},pupiller:"Anizokorik (sağ dilate) → Uncal herniasyon şüphesi"},eExposure:["Tüm kıyafetleri çıkar","Log-roll ile arka yüz muayenesi","Hipotermi önle (warmed blankets)"]},interaktif:!0},{"başlık":"DAMAGE CONTROL RESUSCITATION","süre":5,tip:"protokol","içerik":{massiveTransfusion:{strateji:"1:1:1",komponentler:["6 Ü Eritrosit süspansiyonu","6 Ü Taze donmuş plazma","1 Havuz trombosit"]},hedefler:{SBP:"80-90 mmHg (permissive)",Hb:">7 g/dL",INR:"<1.5",Trombosit:">50,000",Fibrinojen:">150 mg/dL","Ca++":">1.0 mmol/L",Temp:">35°C",pH:">7.2"},tranexamicAcid:["1 g IV 10 dk loading","1 g IV 8 saatte infüzyon","İlk 3 saat içinde başla"],lethalTriad:{Hipotermi:"Isıtılmış kan ürünleri",Asidoz:"Resüsitasyon + ventilasyon","Koagülopati":"Faktör replasmanı"},"damageControlEndikasyonları":["pH <7.2","Baz açığı >15","Core temp <35°C","Koagülopati (INR >1.5)","Devam eden masif transfüzyon"]},interaktif:!0}],"özetMesajlar":["✅ ATLS protokolü hayat kurtarır - sırayı bozmayın","✅ Treat first what kills first","✅ Damage control > Definitif tedavi (unstable hasta)","✅ Permissive hypotension (beyin hasarı yoksa)","✅ 1:1:1 transfüzyon stratejisi","✅ Hipotermi + asidoz + koagülopati = Ölüm üçgeni","✅ Altın saat konsepti - hızlı definitive care"],"kazanılanXP":300}}]}},Aa=[{id:"ilk-adim",isim:"İlk Adım","açıklama":"İlk görevini tamamla",ikon:"🎯","kazanıldı":!1},{id:"haftalik-hedef",isim:"Haftalık Hedef","açıklama":"Haftalık hedefinize ulaşın",ikon:"🏆","kazanıldı":!1},{id:"ates-serisi",isim:"Ateş Serisi","açıklama":"7 gün üst üste çalış",ikon:"🔥","kazanıldı":!1},{id:"uzman-seviye",isim:"Uzman Seviyesi","açıklama":"Bir konuda %90 başarıya ulaş",ikon:"🌟","kazanıldı":!1}],Ta=()=>{const{user:e}=ha(),[a,t]=ee.useState("student"),[s,i]=ee.useState(null),[r,l]=ee.useState(0),[n,o]=ee.useState(!0),[d,c]=ee.useState(7),[m,u]=ee.useState({hedef:30,tamamlanan:23}),[h,p]=ee.useState("tümü"),[b,j]=ee.useState(""),[k,N]=ee.useState(["ilk-adim"]);ee.useEffect(()=>{if(s&&n){const e=new SpeechSynthesisUtterance(s.başlık);e.lang="tr-TR",e.rate=.9,e.pitch=1,speechSynthesis.speak(e)}},[s,n]);const w="student"===a?wa:Sa,S=()=>{let e=[];return"tümü"!==h&&"flash"!==h||(e=[...e,...w.görevler.flash]),"tümü"!==h&&"focus"!==h||(e=[...e,...w.görevler.focus]),"tümü"!==h&&"deep"!==h||(e=[...e,...w.görevler.deep]),b&&(e=e.filter(e=>e.başlık.toLowerCase().includes(b.toLowerCase())||e.konseptler.some(e=>e.toLowerCase().includes(b.toLowerCase())))),e},A=()=>x.jsxs("div",{className:"bg-gradient-to-r from-gray-900 via-blue-900/20 to-gray-900 p-6 rounded-2xl mb-8",children:[x.jsx("h1",{className:"text-4xl font-bold text-center text-white mb-6",children:"Türk Tıp Eğitimi MEP Modülleri"}),x.jsxs("div",{className:"flex justify-center gap-4",children:[x.jsxs(g.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t("student"),className:"flex items-center gap-3 px-8 py-4 rounded-xl font-semibold text-lg transition-all "+("student"===a?"bg-gradient-to-r from-blue-600 to-cyan-600 text-white shadow-lg shadow-blue-500/30":"bg-gray-800 text-gray-400 hover:bg-gray-700"),children:[x.jsx(f,{className:"w-6 h-6"}),x.jsxs("div",{className:"text-left",children:[x.jsx("div",{children:"Medical Student"}),x.jsx("div",{className:"text-xs opacity-80",children:"Temel + TUS Hazırlık"})]})]}),x.jsxs(g.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t("resident"),className:"flex items-center gap-3 px-8 py-4 rounded-xl font-semibold text-lg transition-all "+("resident"===a?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg shadow-purple-500/30":"bg-gray-800 text-gray-400 hover:bg-gray-700"),children:[x.jsx(v,{className:"w-6 h-6"}),x.jsxs("div",{className:"text-left",children:[x.jsx("div",{children:"Medical Resident"}),x.jsx("div",{className:"text-xs opacity-80",children:"Klinik Uygulama + Karar Desteği"})]})]})]})]}),P=()=>x.jsxs("div",{className:"bg-gray-900/50 backdrop-blur-sm rounded-2xl p-6 mb-8",children:[x.jsxs("div",{className:"flex items-center justify-between mb-6",children:[x.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[x.jsx(y,{className:"w-7 h-7 text-cyan-400"}),"MedATLAS ","student"===a?"Student":"Resident"]}),x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("div",{className:"flex gap-2",children:["tümü","flash","focus","deep"].map(e=>x.jsx("button",{onClick:()=>p(e),className:"px-3 py-1 rounded-lg text-sm font-medium transition-colors "+(h===e?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"),children:"tümü"===e?"Tümü":"flash"===e?"⚡ Flash (5-7dk)":"focus"===e?"🎯 Focus (12-15dk)":"🧠 Deep (20-25dk)"},e))}),x.jsxs("div",{className:"relative",children:[x.jsx(T,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),x.jsx("input",{type:"text",placeholder:"Konu ara...",value:b,onChange:e=>j(e.target.value),className:"pl-10 pr-4 py-2 bg-gray-800 text-white rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),"student"===a?x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[x.jsxs("div",{className:"bg-gradient-to-br from-blue-900/30 to-cyan-900/30 rounded-xl p-5 border border-cyan-500/20",children:[x.jsx("h3",{className:"text-lg font-bold text-cyan-400 mb-4",children:"🔬 Temel Bilimler"}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3",children:[x.jsx("div",{className:"font-medium text-white mb-1",children:"Anatomi Atlası"}),x.jsx("div",{className:"text-xs text-gray-400",children:"Bölgesel, görsel, 3D modeller"})]}),x.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3",children:[x.jsx("div",{className:"font-medium text-white mb-1",children:"Fizyoloji Mekanizmaları"}),x.jsx("div",{className:"text-xs text-gray-400",children:"Sistem şemaları, yolaklar"})]}),x.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3",children:[x.jsx("div",{className:"font-medium text-white mb-1",children:"Biyokimya Yolakları"}),x.jsx("div",{className:"text-xs text-gray-400",children:"Glikoliz, Krebs, metabolizma"})]})]})]}),x.jsxs("div",{className:"bg-gradient-to-br from-purple-900/30 to-pink-900/30 rounded-xl p-5 border border-purple-500/20",children:[x.jsx("h3",{className:"text-lg font-bold text-purple-400 mb-4",children:"🩺 Temel Klinik Girişler"}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3",children:[x.jsx("div",{className:"font-medium text-white mb-1",children:"Semptom Algoritmaları"}),x.jsx("div",{className:"text-xs text-gray-400",children:"Ateş, göğüs ağrısı, dispne"})]}),x.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3",children:[x.jsx("div",{className:"font-medium text-white mb-1",children:"Temel Farmakoloji"}),x.jsx("div",{className:"text-xs text-gray-400",children:"İlaç grupları özet tabloları"})]}),x.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3",children:[x.jsx("div",{className:"font-medium text-white mb-1",children:"Muayene Temelleri"}),x.jsx("div",{className:"text-xs text-gray-400",children:"Vital bulgular, sistem muayenesi"})]})]})]}),x.jsxs("div",{className:"bg-gradient-to-br from-green-900/30 to-emerald-900/30 rounded-xl p-5 border border-green-500/20",children:[x.jsx("h3",{className:"text-lg font-bold text-green-400 mb-4",children:"🎯 TUS Destek"}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3",children:[x.jsx("div",{className:"font-medium text-white mb-1",children:"Spot Bilgiler"}),x.jsx("div",{className:"text-xs text-gray-400",children:"Mnemonikler, kısayollar"})]}),x.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3",children:[x.jsx("div",{className:"font-medium text-white mb-1",children:"Karıştırılan Kavramlar"}),x.jsx("div",{className:"text-xs text-gray-400",children:"Addison vs Cushing vb."})]}),x.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3",children:[x.jsx("div",{className:"font-medium text-white mb-1",children:"Yüksek Frekanslı Konular"}),x.jsx("div",{className:"text-xs text-gray-400",children:"Son 5 yıl analizi"})]})]})]})]}):x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"bg-gradient-to-br from-red-900/30 to-orange-900/30 rounded-xl p-5 border border-red-500/20",children:[x.jsx("h3",{className:"text-lg font-bold text-red-400 mb-4",children:"🚨 Vaka & Semptom Odaklı"}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3",children:[x.jsx("div",{className:"font-medium text-white mb-1",children:"Acil Senaryolar"}),x.jsx("div",{className:"text-xs text-gray-400",children:"Sepsis, şok, travma, MI, inme"})]}),x.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3",children:[x.jsx("div",{className:"font-medium text-white mb-1",children:"Klinik Pathway'ler"}),x.jsx("div",{className:"text-xs text-gray-400",children:"Göğüs ağrısı, dispne algoritmaları"})]}),x.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3",children:[x.jsx("div",{className:"font-medium text-white mb-1",children:"Red Flag İşaretleri"}),x.jsx("div",{className:"text-xs text-gray-400",children:"Acil müdahale gerektiren durumlar"})]})]})]}),x.jsxs("div",{className:"bg-gradient-to-br from-indigo-900/30 to-blue-900/30 rounded-xl p-5 border border-indigo-500/20",children:[x.jsx("h3",{className:"text-lg font-bold text-indigo-400 mb-4",children:"📋 Klinik Protokoller & Kılavuzlar"}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3",children:[x.jsx("div",{className:"font-medium text-white mb-1",children:"ATLS & ACLS Özetleri"}),x.jsx("div",{className:"text-xs text-gray-400",children:"Kritik hasta yönetimi"})]}),x.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3",children:[x.jsx("div",{className:"font-medium text-white mb-1",children:"Sepsis 1-hour Bundle"}),x.jsx("div",{className:"text-xs text-gray-400",children:"Antibiyotik, sıvı, vazopressör"})]}),x.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3",children:[x.jsx("div",{className:"font-medium text-white mb-1",children:"2024 Güncel Kılavuzlar"}),x.jsx("div",{className:"text-xs text-gray-400",children:"ESC, AHA, GOLD özetleri"})]})]})]})]}),x.jsxs("div",{className:"mt-8",children:[x.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"📚 Mevcut Görevler"}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:S().map(e=>x.jsxs(g.div,{whileHover:{scale:1.02},onClick:()=>i(e),className:"bg-gray-800/50 rounded-xl p-4 border border-gray-700 hover:border-blue-500 cursor-pointer transition-all",children:[x.jsxs("div",{className:"flex items-start justify-between mb-3",children:[x.jsxs("div",{className:"flex-1",children:[x.jsx("h4",{className:"font-semibold text-white text-sm mb-1",children:e.başlık}),x.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[x.jsx(L,{className:"w-3 h-3"}),x.jsxs("span",{children:[e.süre," dakika"]}),x.jsx("span",{className:"text-gray-600",children:"•"}),x.jsxs("span",{children:["Zorluk: ",e.kognitifYük,"/10"]})]})]}),x.jsx(H,{className:"w-5 h-5 text-gray-400"})]}),x.jsx("div",{className:"flex flex-wrap gap-1",children:e.konseptler.slice(0,3).map((e,a)=>x.jsx("span",{className:"px-2 py-1 bg-gray-700/50 rounded text-xs text-gray-300",children:e},a))}),x.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[x.jsxs("span",{className:"text-xs text-cyan-400",children:[e.içerik.kazanılanXP," XP"]}),x.jsx("div",{className:"px-2 py-1 rounded text-xs font-medium "+(e.süre<=7?"bg-green-900/50 text-green-400":e.süre<=15?"bg-yellow-900/50 text-yellow-400":"bg-red-900/50 text-red-400"),children:e.süre<=7?"⚡ Flash":e.süre<=15?"🎯 Focus":"🧠 Deep"})]})]},e.id))})]})]}),E=()=>x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[x.jsxs(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-orange-900/30 to-red-900/30 rounded-xl p-6 border border-orange-500/30",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx(D,{className:"w-8 h-8 text-orange-400"}),x.jsxs("div",{children:[x.jsxs("div",{className:"text-2xl font-bold text-white",children:[d," Gün"]}),x.jsx("div",{className:"text-xs text-gray-400",children:"Günlük Seri"})]})]}),x.jsx("div",{className:"text-4xl",children:"🔥"})]}),x.jsx("div",{className:"flex gap-1",children:[...Array(7)].map((e,a)=>x.jsx("div",{className:"flex-1 h-2 rounded-full "+(a<d?"bg-orange-500":"bg-gray-700")},a))})]}),x.jsxs(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-br from-blue-900/30 to-cyan-900/30 rounded-xl p-6 border border-blue-500/30",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx(M,{className:"w-8 h-8 text-blue-400"}),x.jsxs("div",{children:[x.jsxs("div",{className:"text-2xl font-bold text-white",children:[m.tamamlanan,"/",m.hedef]}),x.jsx("div",{className:"text-xs text-gray-400",children:"Haftalık Hedef"})]})]}),x.jsxs("div",{className:"text-sm text-green-400",children:[Math.round(m.tamamlanan/m.hedef*100),"%"]})]}),x.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 overflow-hidden",children:x.jsx(g.div,{initial:{width:0},animate:{width:m.tamamlanan/m.hedef*100+"%"},className:"h-full bg-gradient-to-r from-blue-500 to-cyan-500"})})]}),x.jsxs(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gradient-to-br from-purple-900/30 to-pink-900/30 rounded-xl p-6 border border-purple-500/30",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[x.jsx(R,{className:"w-8 h-8 text-purple-400"}),x.jsxs("div",{children:[x.jsxs("div",{className:"text-2xl font-bold text-white",children:[k.length,"/",Aa.length]}),x.jsx("div",{className:"text-xs text-gray-400",children:"Başarılar"})]})]}),x.jsx("div",{className:"flex gap-2",children:Aa.slice(0,4).map(e=>x.jsx("div",{className:"text-2xl "+(k.includes(e.id)?"opacity-100":"opacity-30"),title:e.açıklama,children:e.ikon},e.id))})]})]}),C=()=>s?x.jsx(I,{children:x.jsx(g.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>i(null),children:x.jsxs(g.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:e=>e.stopPropagation(),className:"bg-gray-900 rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[x.jsxs("div",{className:"bg-gradient-to-r from-blue-900 to-purple-900 p-6",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsx("h2",{className:"text-2xl font-bold text-white",children:s.başlık}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("button",{onClick:()=>o(!n),className:"p-2 bg-white/20 rounded-lg hover:bg-white/30 transition-colors",children:n?x.jsx(O,{className:"w-5 h-5 text-white"}):x.jsx(B,{className:"w-5 h-5 text-white"})}),x.jsx("button",{onClick:()=>i(null),className:"text-white/80 hover:text-white",children:"✕"})]})]}),x.jsxs("div",{className:"flex items-center gap-4 text-sm text-white/80",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(L,{className:"w-4 h-4"}),x.jsxs("span",{children:[s.süre," dakika"]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(y,{className:"w-4 h-4"}),x.jsxs("span",{children:["Zorluk: ",s.kognitifYük,"/10"]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(K,{className:"w-4 h-4"}),x.jsxs("span",{children:[s.içerik.kazanılanXP," XP"]})]})]}),x.jsx("div",{className:"mt-4 bg-white/20 rounded-full h-2 overflow-hidden",children:x.jsx(g.div,{initial:{width:0},animate:{width:`${r}%`},className:"h-full bg-gradient-to-r from-cyan-400 to-blue-400"})})]}),x.jsx("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:x.jsxs("div",{className:"space-y-6",children:[s.içerik.bölümler.map((e,a)=>{var t;return x.jsxs(g.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.1*a},className:"bg-gray-800/50 rounded-xl p-5",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[x.jsx("span",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center text-sm",children:a+1}),e.başlık]}),x.jsxs("span",{className:"text-sm text-gray-400",children:[e.süre," dk"]})]}),"vaka"===e.tip&&x.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-4",children:[x.jsx("p",{className:"text-gray-300 mb-4",children:e.içerik.sunum||e.içerik.vaka}),e.içerik.soru&&x.jsxs("div",{className:"space-y-3",children:[x.jsx("p",{className:"font-medium text-white",children:e.içerik.soru}),null==(t=e.içerik.seçenekler)?void 0:t.map((e,a)=>x.jsx("button",{className:"w-full text-left p-3 rounded-lg border transition-all "+(e.doğru?"border-green-500 bg-green-900/20 text-green-400":"border-gray-600 bg-gray-800/50 text-gray-300 hover:border-gray-500"),children:e.metin},a))]})]}),"flashcard"===e.tip&&x.jsx("div",{className:"grid grid-cols-2 gap-4",children:Object.entries(e.içerik.karşılaştırma||{}).map(([e,a])=>x.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-4",children:[x.jsx("h4",{className:"font-semibold text-cyan-400 mb-2",children:e}),x.jsx("div",{className:"text-sm text-gray-300 space-y-1",children:Object.entries(a).map(([e,a])=>x.jsxs("div",{children:[x.jsxs("span",{className:"text-gray-400",children:[e,":"]})," ",x.jsx("span",{children:Array.isArray(a)?a.join(", "):a})]},e))})]},e))}),e.interaktif&&x.jsxs("div",{className:"mt-3 flex items-center gap-2 text-xs text-cyan-400",children:[x.jsx(F,{className:"w-4 h-4"}),"İnteraktif içerik"]})]},a)}),x.jsxs("div",{className:"bg-gradient-to-br from-green-900/30 to-emerald-900/30 rounded-xl p-5 border border-green-500/30",children:[x.jsx("h3",{className:"text-lg font-semibold text-green-400 mb-3",children:"📌 Özet ve Kazanımlar"}),x.jsx("div",{className:"space-y-2",children:s.içerik.özetMesajlar.map((e,a)=>x.jsxs("div",{className:"flex items-start gap-2",children:[x.jsx(V,{className:"w-5 h-5 text-green-400 mt-0.5"}),x.jsx("span",{className:"text-gray-300",children:e})]},a))})]})]})}),x.jsxs("div",{className:"bg-gray-800 p-4 flex items-center justify-between",children:[x.jsx("button",{onClick:()=>l(Math.min(100,r+25)),className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg font-medium transition-colors",children:"Devam Et"}),r>=100&&x.jsxs(g.div,{initial:{scale:0},animate:{scale:1},className:"flex items-center gap-2 px-4 py-2 bg-green-900/30 border border-green-500/50 rounded-lg",children:[x.jsx(R,{className:"w-5 h-5 text-green-400"}),x.jsxs("span",{className:"text-green-400 font-medium",children:["Tamamlandı! +",s.içerik.kazanılanXP," XP"]})]})]})]})})}):null;return x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900/10 to-gray-900 p-8",children:x.jsxs("div",{className:"max-w-7xl mx-auto",children:[x.jsx(A,{}),x.jsx(E,{}),x.jsx(P,{}),x.jsx(C,{})]})})},Pa=[{id:"vps-sepsis-001",name:"Mehmet Yılmaz - Septic Shock with Digital Twin",scenario:"Complex septic shock with multi-organ dysfunction",digitalTwin:{id:"dt-001",patientProfile:{age:68,gender:"male",medicalHistory:["Type 2 DM","HTN","CKD Stage 3"],medications:["Metformin","Lisinopril","Atorvastatin"],allergies:["Penicillin"],genetics:{riskFactors:["IL-6 polymorphism","TNF-α variant"],pharmacogenomics:new Map([["CYP2C19","*2/*2 - Poor metabolizer"],["TPMT","Normal activity"]])}},physiologicalModel:{heartRate:[118,122,125,130,128],bloodPressure:[{systolic:85,diastolic:45},{systolic:82,diastolic:42},{systolic:78,diastolic:40}],oxygenSaturation:[88,86,85,84,85],respiratoryRate:[32,34,36,35,34],temperature:[39.2,39.4,39.3,39.5,39.4],ecgPattern:"Sinus tachycardia with ST depressions",labTrends:new Map([["Lactate",[4.2,5.1,6.3,7.8]],["WBC",[22.4,24.1,26.3]],["Procalcitonin",[12.3,15.6,18.9]],["Creatinine",[1.8,2.2,2.6]]]),organSystems:{cardiovascular:"compromised",respiratory:"distressed",renal:"impaired",neurological:"confused"}},responseToInterventions:new Map([["IV Fluids 30ml/kg",{heartRate:[118,115,112,110,108],bloodPressure:[{systolic:92,diastolic:50},{systolic:95,diastolic:52}],oxygenSaturation:[89,90,91,91,92],respiratoryRate:[30,28,27,26,26],temperature:[39.2,39.1,39,38.9,38.8],ecgPattern:"Improving ST segments",labTrends:new Map([["Lactate",[4.2,3.8,3.2]]]),organSystems:{cardiovascular:"compromised",respiratory:"distressed",renal:"impaired",neurological:"confused"}}]]),predictedOutcomes:[{intervention:"Early Goal-Directed Therapy",successRate:78,complications:["Fluid overload","ARDS"],timeToRecovery:168},{intervention:"Delayed intervention",successRate:45,complications:["Multi-organ failure","DIC","Death"],timeToRecovery:360}]},vrEnvironment:{setting:"icu",equipment:["Ventilator","Central line kit","Arterial line","Continuous dialysis machine","Bedside ultrasound","ECMO"],staff:[{role:"ICU Nurse",aiControlled:!0},{role:"Respiratory Therapist",aiControlled:!0},{role:"Pharmacist",aiControlled:!0}]},interactions:{physical_exam:!0,history_taking:!0,procedures:["Central line placement","Arterial line insertion","Intubation","Bronchoscopy","Bedside ECHO"],medications:!0,imaging:!0},realtimePhysiology:!0,multiplayerEnabled:!0,hapticFeedback:!0,voiceInteraction:!0},{id:"vps-stemi-002",name:"Ayşe Kaya - STEMI with VR Cath Lab",scenario:"Acute anterior STEMI requiring emergent PCI",digitalTwin:{id:"dt-002",patientProfile:{age:54,gender:"female",medicalHistory:["Smoking","Dyslipidemia","Family history of CAD"],medications:["None"],allergies:["Contrast dye - mild"],genetics:{riskFactors:["APOE ε4","LDLR mutation"],pharmacogenomics:new Map([["CYP2C19","*1/*1 - Normal"],["VKORC1","High warfarin sensitivity"]])}},physiologicalModel:{heartRate:[45,48,50,52,48],bloodPressure:[{systolic:90,diastolic:60},{systolic:88,diastolic:58}],oxygenSaturation:[92,91,90,89,90],respiratoryRate:[22,24,26,25,24],temperature:[36.5,36.5,36.6,36.5,36.5],ecgPattern:"ST elevation V1-V4, reciprocal changes inferior",labTrends:new Map([["Troponin-I",[.04,2.8,15.6,45.2]],["CK-MB",[12,45,120,280]],["BNP",[150,320,450]]]),organSystems:{cardiovascular:"failing",respiratory:"normal",renal:"normal",neurological:"alert"}},responseToInterventions:new Map([["PCI to LAD",{heartRate:[68,72,75,78,80],bloodPressure:[{systolic:110,diastolic:70},{systolic:115,diastolic:72}],oxygenSaturation:[95,96,97,98,98],respiratoryRate:[18,16,15,14,14],temperature:[36.5,36.6,36.7,36.8,36.8],ecgPattern:"Resolution of ST elevation",labTrends:new Map([["Troponin-I",[45.2,38.6,22.1]]]),organSystems:{cardiovascular:"normal",respiratory:"normal",renal:"normal",neurological:"alert"}}]]),predictedOutcomes:[{intervention:"Primary PCI within 90 minutes",successRate:92,complications:["Reperfusion arrhythmias","Contrast nephropathy"],timeToRecovery:72}]},vrEnvironment:{setting:"emergency",equipment:["Cardiac catheterization lab","IABP","Impella device","FFR wire","IVUS","Defibrillator"],staff:[{role:"Interventional Cardiologist",aiControlled:!1},{role:"Cath Lab Tech",aiControlled:!0},{role:"Circulating Nurse",aiControlled:!0}]},interactions:{physical_exam:!0,history_taking:!0,procedures:["Coronary angiography","PCI with stent placement","IABP insertion","Temporary pacing","Right heart catheterization"],medications:!0,imaging:!0},realtimePhysiology:!0,multiplayerEnabled:!0,hapticFeedback:!0,voiceInteraction:!0}];const Ea={clinicalAI:new class{analyzeCase(e,a,t){return m(this,null,function*(){return{differentialDiagnosis:[{condition:"Septic Shock",probability:78,supportingEvidence:["Elevated lactate","Hypotension despite fluids","Fever with leukocytosis","Elevated procalcitonin"],refutingEvidence:["No clear source identified yet"],nextSteps:["Blood cultures x2","Broad-spectrum antibiotics within 1 hour","Source control imaging","Consider vasopressors"]},{condition:"Cardiogenic Shock",probability:15,supportingEvidence:["Hypotension","Elevated BNP"],refutingEvidence:["High fever","Elevated WBC","Normal ECHO"],nextSteps:["Bedside ECHO","Troponin levels","EKG"]}],clinicalGuidelines:[{source:"Surviving Sepsis Campaign 2024",recommendation:"Administer 30ml/kg crystalloid within 3 hours",evidenceLevel:"A",relevance:95},{source:"Turkish Intensive Care Society",recommendation:"Early source control within 6-12 hours",evidenceLevel:"B",relevance:88}],predictiveAnalytics:{deteriorationRisk:72,criticalEventProbability:45,optimalInterventionWindow:60},explainableAI:{reasoning:"Pattern recognition indicates septic shock based on SIRS criteria, organ dysfunction (elevated lactate, AKI), and hemodynamic instability. The rapid progression and inflammatory markers strongly suggest bacterial sepsis.",confidenceLevel:78,uncertaintyFactors:["Source of infection not yet identified","Possibility of viral etiology","Drug reaction cannot be excluded"]}}})}}},Ca=()=>{const[e,a]=ee.useState(null),[t,s]=ee.useState(null),[i,r]=ee.useState(null),[l,n]=ee.useState([]),[c,h]=ee.useState(!1),[p,b]=ee.useState(!1),[f,j]=ee.useState(!1);ee.useRef(null),ee.useEffect(()=>{if(e&&t){const e=setInterval(()=>{s(e=>e?d(o({},e),{heartRate:[...e.heartRate.slice(1),e.heartRate[e.heartRate.length-1]+4*Math.random()-2],oxygenSaturation:[...e.oxygenSaturation.slice(1),Math.max(85,Math.min(100,e.oxygenSaturation[e.oxygenSaturation.length-1]+2*Math.random()-1))]}):e)},2e3);return()=>clearInterval(e)}},[e,t]);const k=()=>{var e,a,s,i,r;return x.jsxs(g.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-gray-900 rounded-xl p-6 border border-cyan-500/30",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsxs("h3",{className:"text-xl font-bold text-cyan-400 flex items-center gap-2",children:[x.jsx(Y,{className:"w-5 h-5"}),"Real-Time Vitals Monitor"]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx(g.div,{animate:{opacity:[1,.5,1]},transition:{repeat:1/0,duration:2},className:"w-3 h-3 bg-green-500 rounded-full"}),x.jsx("span",{className:"text-xs text-gray-400",children:"LIVE"})]})]}),t&&x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4",children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsx("span",{className:"text-gray-400 text-sm",children:"Heart Rate"}),x.jsx(U,{className:"w-4 h-4 text-red-400"})]}),x.jsxs("div",{className:"text-2xl font-mono text-white",children:[Math.round(t.heartRate[t.heartRate.length-1]),x.jsx("span",{className:"text-sm text-gray-400 ml-1",children:"bpm"})]}),x.jsx("div",{className:"h-8 flex items-end gap-1 mt-2",children:t.heartRate.slice(-10).map((e,a)=>x.jsx("div",{className:"flex-1 bg-red-500/50 rounded-t",style:{height:e/150*100+"%"}},a))})]}),x.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4",children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsx("span",{className:"text-gray-400 text-sm",children:"Blood Pressure"}),x.jsx(z,{className:"w-4 h-4 text-blue-400"})]}),x.jsxs("div",{className:"text-2xl font-mono text-white",children:[null==(e=t.bloodPressure[t.bloodPressure.length-1])?void 0:e.systolic,"/",null==(a=t.bloodPressure[t.bloodPressure.length-1])?void 0:a.diastolic,x.jsx("span",{className:"text-sm text-gray-400 ml-1",children:"mmHg"})]}),x.jsx("div",{className:"text-xs mt-2 "+((null==(s=t.bloodPressure[t.bloodPressure.length-1])?void 0:s.systolic)<90?"text-red-400":"text-green-400"),children:(null==(i=t.bloodPressure[t.bloodPressure.length-1])?void 0:i.systolic)<90?"⚠️ Hypotensive":"Normal range"})]}),x.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4",children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsx("span",{className:"text-gray-400 text-sm",children:"SpO₂"}),x.jsx(F,{className:"w-4 h-4 text-cyan-400"})]}),x.jsxs("div",{className:"text-2xl font-mono text-white",children:[Math.round(t.oxygenSaturation[t.oxygenSaturation.length-1]),x.jsx("span",{className:"text-sm text-gray-400 ml-1",children:"%"})]}),x.jsx("div",{className:"h-8 flex items-end gap-1 mt-2",children:t.oxygenSaturation.slice(-10).map((e,a)=>x.jsx("div",{className:"flex-1 bg-cyan-500/50 rounded-t",style:{height:`${e}%`}},a))})]}),x.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4",children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsx("span",{className:"text-gray-400 text-sm",children:"Temperature"}),x.jsx(u,{className:"w-4 h-4 text-orange-400"})]}),x.jsxs("div",{className:"text-2xl font-mono text-white",children:[null==(r=t.temperature[t.temperature.length-1])?void 0:r.toFixed(1),x.jsx("span",{className:"text-sm text-gray-400 ml-1",children:"°C"})]}),x.jsx("div",{className:"text-xs mt-2 "+(t.temperature[t.temperature.length-1]>38?"text-orange-400":"text-green-400"),children:t.temperature[t.temperature.length-1]>38?"🔥 Febrile":"Afebrile"})]})]})]})},N=()=>x.jsxs(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-purple-900/20 to-pink-900/20 rounded-xl p-6 border border-purple-500/30",children:[x.jsxs("h3",{className:"text-xl font-bold text-purple-400 mb-4 flex items-center gap-2",children:[x.jsx(y,{className:"w-5 h-5"}),"AI Clinical Reasoning Engine"]}),i&&x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("h4",{className:"text-sm font-semibold text-gray-400 mb-2",children:"Differential Diagnosis"}),i.differentialDiagnosis.map((e,a)=>x.jsxs(g.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*a},className:"bg-gray-800/50 rounded-lg p-3 mb-2",children:[x.jsxs("div",{className:"flex items-center justify-between mb-1",children:[x.jsx("span",{className:"font-medium text-white",children:e.condition}),x.jsxs("span",{className:"text-sm px-2 py-1 bg-purple-500/20 rounded text-purple-300",children:[e.probability,"% probability"]})]}),x.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:[x.jsxs("div",{className:"mb-1",children:[x.jsx("span",{className:"text-green-400",children:"Supporting: "}),e.supportingEvidence.slice(0,2).join(", ")]}),x.jsxs("div",{children:[x.jsx("span",{className:"text-yellow-400",children:"Next steps: "}),e.nextSteps[0]]})]})]},a))]}),x.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4",children:[x.jsx("h4",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Predictive Analytics"}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-sm text-gray-300",children:"Deterioration Risk"}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-32 h-2 bg-gray-700 rounded-full overflow-hidden",children:x.jsx(g.div,{initial:{width:0},animate:{width:`${i.predictiveAnalytics.deteriorationRisk}%`},className:"h-full "+(i.predictiveAnalytics.deteriorationRisk>70?"bg-red-500":i.predictiveAnalytics.deteriorationRisk>40?"bg-yellow-500":"bg-green-500")})}),x.jsxs("span",{className:"text-xs text-gray-400",children:[i.predictiveAnalytics.deteriorationRisk,"%"]})]})]}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-sm text-gray-300",children:"Critical Event Risk"}),x.jsxs("span",{className:"text-xs text-orange-400",children:[i.predictiveAnalytics.criticalEventProbability,"% in next hour"]})]}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-sm text-gray-300",children:"Intervention Window"}),x.jsxs("span",{className:"text-xs text-cyan-400 flex items-center gap-1",children:[x.jsx(L,{className:"w-3 h-3"}),i.predictiveAnalytics.optimalInterventionWindow," minutes"]})]})]})]}),x.jsxs("div",{className:"bg-blue-900/20 rounded-lg p-3 border border-blue-500/30",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[x.jsx(W,{className:"w-4 h-4 text-blue-400"}),x.jsx("span",{className:"text-sm font-medium text-blue-300",children:"AI Reasoning"}),x.jsxs("span",{className:"ml-auto text-xs px-2 py-1 bg-blue-500/20 rounded text-blue-300",children:[i.explainableAI.confidenceLevel,"% confidence"]})]}),x.jsx("p",{className:"text-xs text-gray-300 leading-relaxed",children:i.explainableAI.reasoning})]})]})]}),w=()=>x.jsxs(g.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-gradient-to-br from-green-900/20 to-blue-900/20 rounded-xl p-6 border border-green-500/30",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsxs("h3",{className:"text-xl font-bold text-green-400 flex items-center gap-2",children:[x.jsx(q,{className:"w-5 h-5"}),"Multi-User Collaboration"]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:()=>b(!p),className:"p-2 rounded-lg transition-colors "+(p?"bg-red-500 text-white":"bg-gray-700 text-gray-400 hover:bg-gray-600"),children:p?x.jsx("div",{className:"w-3 h-3 bg-white rounded-full animate-pulse"}):x.jsx(X,{className:"w-4 h-4"})}),x.jsx("button",{className:"p-2 bg-gray-700 rounded-lg text-gray-400 hover:bg-gray-600 transition-colors",children:x.jsx(J,{className:"w-4 h-4"})}),x.jsx("button",{className:"p-2 bg-gray-700 rounded-lg text-gray-400 hover:bg-gray-600 transition-colors",children:x.jsx(Z,{className:"w-4 h-4"})})]})]}),x.jsx("div",{className:"space-y-3",children:["Dr. Mehmet (Attending)","Ayşe (Resident)","Ali (Student)","AI Mentor"].map((e,a)=>x.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-800/50 rounded-lg",children:[x.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center "+(e.includes("AI")?"bg-gradient-to-br from-purple-500 to-pink-500":"bg-gradient-to-br from-green-500 to-blue-500"),children:e.includes("AI")?x.jsx(y,{className:"w-5 h-5 text-white"}):e[0]}),x.jsxs("div",{className:"flex-1",children:[x.jsx("div",{className:"text-sm text-white font-medium",children:e}),x.jsx("div",{className:"text-xs text-gray-400",children:e.includes("AI")?"Providing real-time guidance":"Active in simulation"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[0===a&&x.jsx(O,{className:"w-4 h-4 text-green-400 animate-pulse"}),e.includes("VR")&&x.jsx($,{className:"w-4 h-4 text-cyan-400"})]})]},a))}),x.jsx("button",{className:"w-full mt-4 py-2 bg-gradient-to-r from-green-600 to-blue-600 rounded-lg text-white font-medium hover:from-green-500 hover:to-blue-500 transition-colors",children:"Invite Collaborator"})]});return x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900/10 to-gray-900 p-8",children:x.jsxs("div",{className:"max-w-7xl mx-auto",children:[x.jsxs(g.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[x.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-cyan-400 via-purple-400 to-pink-400 bg-clip-text text-transparent mb-4",children:"Virtual Patient Simulator 2025"}),x.jsx("p",{className:"text-gray-400",children:"Revolutionary medical training with Digital Twins, AI reasoning, and real-time collaboration"})]}),e?x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center justify-between bg-gray-800/50 backdrop-blur-sm rounded-xl p-4",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("button",{onClick:()=>a(null),className:"text-gray-400 hover:text-white transition-colors",children:"← Back"}),x.jsx("h2",{className:"text-xl font-bold text-white",children:e.name})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsxs("button",{onClick:()=>j(!f),className:"px-4 py-2 rounded-lg transition-colors "+(f?"bg-purple-600 text-white":"bg-gray-700 text-gray-400 hover:bg-gray-600"),children:[x.jsx(_,{className:"w-4 h-4 inline mr-2"}),"Digital Twin"]}),x.jsxs("button",{onClick:()=>h(!c),className:"px-4 py-2 rounded-lg transition-colors "+(c?"bg-cyan-600 text-white":"bg-gray-700 text-gray-400 hover:bg-gray-600"),children:[x.jsx($,{className:"w-4 h-4 inline mr-2"}),"VR Mode"]})]})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[x.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[x.jsx(k,{}),x.jsxs(g.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-gray-800/50 rounded-xl p-4",children:[x.jsx("h3",{className:"text-sm font-bold text-gray-400 mb-3",children:"Lab Trends"}),e.digitalTwin.physiologicalModel.labTrends&&Array.from(e.digitalTwin.physiologicalModel.labTrends.entries()).slice(0,3).map(([e,a])=>x.jsxs("div",{className:"mb-3",children:[x.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[x.jsx("span",{className:"text-gray-400",children:e}),x.jsx("span",{className:"text-white "+("Lactate"===e&&a[a.length-1]>4?"text-red-400":""),children:a[a.length-1]})]}),x.jsx("div",{className:"h-6 flex items-end gap-0.5",children:a.map((e,t)=>x.jsx("div",{className:"flex-1 bg-gradient-to-t from-cyan-500/50 to-cyan-500/20 rounded-t",style:{height:e/Math.max(...a)*100+"%"}},t))})]},e))]})]}),x.jsx("div",{className:"lg:col-span-1",children:x.jsx(N,{})}),x.jsx("div",{className:"lg:col-span-1",children:x.jsx(w,{})})]}),x.jsxs(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-gray-800/50 to-gray-900/50 rounded-xl p-6",children:[x.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Available Actions"}),x.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:e.interactions.procedures.map(e=>x.jsx("button",{className:"p-3 bg-gray-700/50 hover:bg-gray-600/50 rounded-lg text-sm text-gray-300 hover:text-white transition-all",children:e},e))})]})]}):x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Pa.map(e=>x.jsxs(g.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},whileHover:{scale:1.02},onClick:()=>(e=>m(void 0,null,function*(){a(e),s(e.digitalTwin.physiologicalModel);const t=yield Ea.clinicalAI.analyzeCase(["fever","hypotension","tachycardia"],e.digitalTwin.physiologicalModel,e.digitalTwin.physiologicalModel.labTrends);r(t)}))(e),className:"bg-gray-800/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700 hover:border-cyan-500 transition-all cursor-pointer",children:[x.jsxs("div",{className:"flex items-start justify-between mb-4",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:e.name}),x.jsx("p",{className:"text-gray-400 text-sm",children:e.scenario})]}),x.jsxs("div",{className:"flex gap-2",children:[e.hapticFeedback&&x.jsx("div",{className:"px-2 py-1 bg-purple-500/20 rounded text-xs text-purple-300",children:"Haptic"}),e.multiplayerEnabled&&x.jsx("div",{className:"px-2 py-1 bg-green-500/20 rounded text-xs text-green-300",children:"Multiplayer"})]})]}),x.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[x.jsxs("div",{className:"text-center p-2 bg-gray-900/50 rounded",children:[x.jsx(v,{className:"w-5 h-5 text-cyan-400 mx-auto mb-1"}),x.jsx("div",{className:"text-xs text-gray-400",children:"Physical Exam"})]}),x.jsxs("div",{className:"text-center p-2 bg-gray-900/50 rounded",children:[x.jsx(_,{className:"w-5 h-5 text-purple-400 mx-auto mb-1"}),x.jsx("div",{className:"text-xs text-gray-400",children:"Digital Twin"})]}),x.jsxs("div",{className:"text-center p-2 bg-gray-900/50 rounded",children:[x.jsx(G,{className:"w-5 h-5 text-green-400 mx-auto mb-1"}),x.jsx("div",{className:"text-xs text-gray-400",children:"AI Analysis"})]})]}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[x.jsx(Y,{className:"w-4 h-4"}),x.jsx("span",{children:e.vrEnvironment.setting.toUpperCase()})]}),x.jsx(H,{className:"w-5 h-5 text-cyan-400"})]})]},e.id))})]})})},Ia=ee.lazy(()=>de(()=>import("./Dashboard-Ch0ui8mi.js"),__vite__mapDeps([0,1,2,3,4]))),za=ee.lazy(()=>de(()=>import("./Library-CF36JMbq.js"),__vite__mapDeps([5,1,2,4]))),Da=ee.lazy(()=>de(()=>import("./Reader-Dxp6yTU3.js"),__vite__mapDeps([6,1,2,7,4]))),Ma=ee.lazy(()=>de(()=>import("./AIChat-C6_TL2p0.js"),__vite__mapDeps([8,1,2,7,9,4]))),Ra=ee.lazy(()=>de(()=>import("./Progress-nkOkTgiH.js"),__vite__mapDeps([10,1,2,3,11]))),La=ee.lazy(()=>de(()=>import("./PerformanceAnalytics-BipRg-sq.js").then(e=>e.P),__vite__mapDeps([12,1,2,3,11])));function Ha(){const{user:e,setBooks:a,setUser:t}=ha();return ee.useEffect(()=>{a(pa);const e=localStorage.getItem("medai-user");e&&t(JSON.parse(e))},[a,t]),e?x.jsx(ya,{children:x.jsx(se,{children:x.jsxs("div",{className:"min-h-screen bg-medical-darker",children:[x.jsx(da,{position:"top-right",toastOptions:{className:"glass",style:{background:"rgba(10, 14, 39, 0.9)",color:"#fff",border:"1px solid rgba(96, 165, 250, 0.3)",backdropFilter:"blur(10px)"}}}),x.jsx(ee.Suspense,{fallback:x.jsx(fa,{}),children:x.jsx(ie,{children:x.jsxs(re,{path:"/",element:x.jsx(ka,{}),children:[x.jsx(re,{index:!0,element:x.jsx(Ia,{})}),x.jsx(re,{path:"library",element:x.jsx(za,{})}),x.jsx(re,{path:"reader",element:x.jsx(Da,{})}),x.jsx(re,{path:"ai-chat",element:x.jsx(Ma,{})}),x.jsx(re,{path:"progress",element:x.jsx(Ra,{})}),x.jsx(re,{path:"mep",element:x.jsx(Ta,{})}),x.jsx(re,{path:"turkish-mep",element:x.jsx(Ta,{})}),x.jsx(re,{path:"analytics",element:x.jsx(La,{})}),x.jsx(re,{path:"virtual-patient",element:x.jsx(Ca,{})})]})})})]})})}):x.jsx(Na,{})}e(document.getElementById("root")).render(x.jsx(ee.StrictMode,{children:x.jsx(Ha,{})}));export{de as _,ga as g,ha as u,ca as z};
